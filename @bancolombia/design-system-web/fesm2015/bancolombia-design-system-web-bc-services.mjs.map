{"version":3,"file":"bancolombia-design-system-web-bc-services.mjs","sources":["../../../projects/ng_bds/bc-services/bc-dialog-service/bc-dialog-container/bc-dialog-container.component.ts","../../../projects/ng_bds/bc-services/bc-dialog-service/models/bc-dialog-ref/bc-dialog-ref.model.ts","../../../projects/ng_bds/bc-services/bc-dialog-service/models/bc-dialog/bc-dialog.model.ts","../../../projects/ng_bds/bc-services/bc-dialog-service/bc-dialog.service.ts","../../../projects/ng_bds/bc-services/bc-dynamic-host-service/directives/bc-dynamic-host.directive.ts","../../../projects/ng_bds/bc-services/bc-dynamic-host-service/bc-dynamic-host.service.ts","../../../projects/ng_bds/bc-services/bc-services.module.ts","../../../projects/ng_bds/bc-services/bancolombia-design-system-web-bc-services.ts"],"sourcesContent":["import {\n  Component,\n  ViewChild,\n  ViewContainerRef,\n  ComponentFactoryResolver,\n  ComponentFactory,\n  Type,\n  ComponentRef,\n} from '@angular/core';\nimport { BcDialog } from '../models/bc-dialog/bc-dialog.model';\n\n@Component({\n  template: ` <ng-template #modalContainer></ng-template> `,\n})\nexport class BcDialogContainerComponent {\n  @ViewChild('modalContainer', { read: ViewContainerRef, static: true })\n  private modalContainer: ViewContainerRef;\n\n  constructor(private componentFactoryResolver: ComponentFactoryResolver) {}\n\n  createModal<T extends BcDialog>(component: Type<T>): ComponentRef<T> {\n    this.modalContainer.clear();\n\n    const factory: ComponentFactory<T> = this.componentFactoryResolver.resolveComponentFactory(\n      component\n    );\n\n    return this.modalContainer.createComponent(factory, 0);\n  }\n}\n","/* istanbul ignore file */\n\nimport { ComponentRef } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { BcDialogContainerComponent } from '../../bc-dialog-container/bc-dialog-container.component';\nimport { BcDialog } from '../bc-dialog/bc-dialog.model';\n\nexport class BcDialogRef {\n  result = new Subject<any>();\n\n  constructor(public modalContainer: ComponentRef<BcDialogContainerComponent>, public modal: ComponentRef<BcDialog>) {\n    this.modal.instance.modalInstance = this;\n  }\n\n  close(output: any): void {\n    this.result.next(output);\n    this._destroy();\n  }\n\n  dismiss(output: any): void {\n    this.result.error(output);\n    this._destroy();\n  }\n\n  onResult(): Observable<any> {\n    return this.result.asObservable();\n  }\n\n  _destroy(): void {\n    this.modal.destroy();\n    this.modalContainer.destroy();\n    this.result.complete();\n  }\n}\n","/* istanbul ignore file */\n\nimport { BcDialogRef } from '../bc-dialog-ref/bc-dialog-ref.model';\n\nexport abstract class BcDialog {\n  modalInstance: BcDialogRef;\n\n  abstract onInjectInputs(inputs: any): void;\n\n  close(output?: any): void {\n    this.modalInstance.close(output);\n  }\n\n  dismiss(output?: any): void {\n    this.modalInstance.dismiss(output);\n  }\n}\n","import {\n  Injectable,\n  ComponentFactoryResolver,\n  ComponentFactory,\n  ApplicationRef,\n  Type,\n} from '@angular/core';\nimport { BcDialogContainerComponent } from './bc-dialog-container/bc-dialog-container.component';\nimport { BcDialogRef } from './models/bc-dialog-ref/bc-dialog-ref.model';\nimport { BcDialog } from './models/bc-dialog/bc-dialog.model';\n@Injectable()\nexport class BcDialogService {\n  private modalContainer: HTMLElement;\n  private modalContainerFactory: ComponentFactory<BcDialogContainerComponent>;\n\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private appRef: ApplicationRef\n  ) {\n    this.setupModalContainerFactory();\n  }\n\n  open<T extends BcDialog>(component: Type<T>, inputs?: any): BcDialogRef {\n    this.setupModalContainerDiv(inputs);\n    const modalContainerRef = this.appRef.bootstrap(\n      this.modalContainerFactory,\n      this.modalContainer\n    );\n\n    const modalComponentRef = modalContainerRef.instance.createModal(component);\n\n    if (inputs) {\n      modalComponentRef.instance.onInjectInputs(inputs);\n    }\n\n    const modalRef = new BcDialogRef(modalContainerRef, modalComponentRef);\n    this.closeEsc(modalRef)\n    return modalRef;\n  }\n\n  private setupModalContainerDiv(inputs: any): void {\n    this.modalContainer = document.createElement('div');\n    if (inputs && inputs.elementRef && inputs.insertBefore && document.getElementById(inputs.elementRef)) {\n      document.getElementById(inputs.elementRef).before(this.modalContainer);\n    } else if (inputs && inputs.elementRef && document.getElementById(inputs.elementRef)) {\n      document.getElementById(inputs.elementRef).after(this.modalContainer);\n    } else {\n      document\n        .getElementsByTagName('body')[0]\n        .appendChild(this.modalContainer);\n    }\n  }\n\n  private setupModalContainerFactory(): void {\n    this.modalContainerFactory = this.componentFactoryResolver.resolveComponentFactory(\n      BcDialogContainerComponent\n    );\n  }\n\n   closeEsc(modalRef){\n    document.body.addEventListener(\"keyup\", (event:any) =>{\n      if (event.code === 'Escape'){  \n        modalRef.close('');\n        }\n    }\n    );\n  }\n\n}\n","import { Directive, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  selector: '[bcBcDynamicHost]'\n})\nexport class BcDynamicHostDirective {\n\n  constructor(public viewContainerRef: ViewContainerRef) {}\n\n}\n","import {\n  Injectable,\n  ComponentFactoryResolver,\n  ViewContainerRef\n} from '@angular/core';\nimport { from } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { BcComponentLoader } from './models/bc-component-loader/bc-component-loader.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BcDynamicHostService {\n\n  \n  constructor(private cfr: ComponentFactoryResolver) { }\n\n  forChild(vcr: ViewContainerRef, cl: BcComponentLoader) {\n    return from(cl.loadChildren()).pipe(\n      map((component: any) => this.cfr.resolveComponentFactory(component)),\n      map(componentFactory => vcr.createComponent(componentFactory))\n    );\n  }\n}\n","import { BcDialogContainerComponent } from './bc-dialog-service/bc-dialog-container/bc-dialog-container.component';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BcDialogService } from './bc-dialog-service/bc-dialog.service';\nimport { BcDynamicHostDirective } from './bc-dynamic-host-service/directives/bc-dynamic-host.directive';\nimport { BcDynamicHostService } from './bc-dynamic-host-service/bc-dynamic-host.service';\n\n@NgModule({\n    imports: [CommonModule],\n    declarations: [BcDialogContainerComponent, BcDynamicHostDirective],\n    exports: [BcDialogContainerComponent, BcDynamicHostDirective]\n})\nexport class BcServicesModule {\n  static forRoot(): ModuleWithProviders<BcServicesModule> {\n    return {\n      ngModule: BcServicesModule,\n      providers: [BcDialogService, BcDynamicHostService],\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}