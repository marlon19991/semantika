{"version":3,"file":"bancolombia-design-system-web-bc-input-select-v2.mjs","sources":["../../../projects/ng_bds/bc-input-select-v2/bc-input-select-v2.component.ts","../../../projects/ng_bds/bc-input-select-v2/bc-input-select-v2.component.html","../../../projects/ng_bds/bc-input-select-v2/bc-input-select-v2.module.ts","../../../projects/ng_bds/bc-input-select-v2/bancolombia-design-system-web-bc-input-select-v2.ts"],"sourcesContent":["import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, forwardRef } from '@angular/core';\nimport { BcHelperService, BcGeneralInputComponent } from '@bancolombia/design-system-web/bc-helpers';\nimport { BcInputSelectV2Behavior } from '@bancolombia/design-system-behaviors';\nimport { FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n/**\n * componente Input Select V2\n *\n * @export\n * @class BcInputSelectV2Component\n * @implements {OnInit}\n * @implements {OnChanges}\n */\n@Component({\n  selector: 'bc-input-select-v2',\n  templateUrl: 'bc-input-select-v2.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => BcInputSelectV2Component),\n      multi: true\n    }\n  ]\n})\nexport class BcInputSelectV2Component extends BcGeneralInputComponent implements OnInit, OnChanges {\n  /**\n   * Permite configurar id de componente\n   * Si no es definido es auto generado\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  @Input() componentId: string;\n\n  /**\n   * Permite configurar el tipo: simple o multiple\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  @Input() type: string;\n\n  /**\n   * Permite configurar el label principal que tambien es mostrado como placeholder\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  @Input() label: string;\n\n  /**\n   * Permite configurar el icono principal del componente\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  @Input() iconName: string;\n\n  /**\n   * Permite configurar el texto de ayuda del componente\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  @Input() helpText: string;\n\n  /**\n   * Permite configurar el el estado: disabled, error o default\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  @Input() status: 'error' | 'disabled' | 'default' = 'default';\n\n  /**\n   * Permite configurar el valor inicial del componente.\n   *\n   * @memberof BcInputSelectComponent\n   */\n  @Input() initialValue: string;\n\n  /**\n   * Objeto encargado de llenar las listas con las propiedades definidas.\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  @Input() values: Array<{ label: string; value: any; icon?: string }>;\n\n  /**\n   * Funcion que se ejecutara cuando se seleccione una opcion\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  @Output() onChangeValue: EventEmitter<any> = new EventEmitter(true);\n\n  bcInputSelectV2Behavior: BcInputSelectV2Behavior;\n  control: FormControl = new FormControl('');\n  componentReady: boolean = false;\n\n  constructor(private bcHelperService: BcHelperService) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.componentId = this.componentId ?? this.bcHelperService.getId(this);\n  }\n\n  ngAfterViewInit(): void {\n    this.initInputSelect();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.status) {\n      this.bcInputSelectV2Behavior?.setStatus(this.status);\n    }\n    if (this.componentReady && !changes.status) {\n      if (changes.values) {\n        this.bcInputSelectV2Behavior.updateItems(this.values);\n      } else {\n        setTimeout(() => {\n          this.initInputSelect();\n          if (this.value) {\n            this.setValue(this.value);\n          }\n        });\n      }\n    }\n  }\n\n  initInputSelect(): void {\n    this.bcInputSelectV2Behavior = new BcInputSelectV2Behavior();\n    this.bcInputSelectV2Behavior.setId(this.componentId);\n    this.bcInputSelectV2Behavior.outputFunction = (param) => {\n      this.dispatchChange(param.value);\n      this.onChangeValue.emit(param);\n    };\n    this.bcInputSelectV2Behavior.setItems(this.values);\n    this.bcInputSelectV2Behavior.setUp();\n    if (this.initialValue) {\n      this.dispatchChange(this.initialValue);\n    }\n    this.componentReady = true;\n  }\n\n  /**\n   * Función que setea el estado del componente.\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  setStatus(newStatus: 'error' | 'disabled' | 'default'): void {\n    this.bcInputSelectV2Behavior.setStatus(newStatus);\n  }\n\n  /**\n   * Cambia el item seleccionado. Si se envia un string vacio se limpia la seleccion previa y estados.\n   * Si son varios valores separar con coma, por ejemplo: 1,5,6\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  setValue(newValue: string): void {\n    this.bcInputSelectV2Behavior.setSelectedValue(newValue);\n    this.dispatchChange(newValue);\n  }\n\n  /**\n   * Función utilizada cuando el componente es parte de un FormGroup\n   * Se utiliza en disable() o enable()\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  setDisabledState(disabled: boolean): void {\n    this.bcInputSelectV2Behavior.setStatus(disabled ? 'disabled' : 'default');\n  }\n\n  /**\n   * Función utilizada cuando el componente es parte de un FormGroup\n   * Se utiliza en reset()\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  writeValue(value) {\n    this.dispatchChange(value);\n  }\n\n  /**\n   * Función utilizada cuando el componente es parte de un FormGroup\n   * Se utiliza en reset() o writeValue()\n   *\n   * @memberof BcInputSelectV2Component\n   */\n  dispatchChange(value: string) {\n    this.value = value;\n    if (value === null || value === undefined) {\n      this.bcInputSelectV2Behavior?.setSelectedValue(this.value);\n    } else {\n      this.onTouch();\n      this.control.markAsTouched();\n      this.control.markAsDirty();\n    }\n    this.onChange(this.value);\n    this.control.setValue(value);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouch = fn;\n  }\n}\n","<div\n  [id]=\"componentId\"\n  [attr.type]=\"type\"\n  [attr.label]=\"label\"\n  [attr.iconName]=\"iconName\"\n  [attr.helpText]=\"helpText\"\n  [attr.status]=\"status\"\n  [attr.initialValue]=\"initialValue\"\n></div>\n","import { NgModule } from '@angular/core';\nimport { BcInputSelectV2Component } from './bc-input-select-v2.component';\nimport { CommonModule } from '@angular/common';\nimport { BcCheckboxModule } from '@bancolombia/design-system-web/bc-checkbox';\nimport { BcIconModule } from '@bancolombia/design-system-web/bc-icon';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n/**\n * Importa el componente BcInputSelectV2 con\n * los diseños de Bancolombia S.A.\n *\n * @componente <bc-input-select-v2></bc-input-select-v2>\n *\n * @param  [iconName](opcional): Texto que indica el id del componente\n * @param  [label](opcional): Texto que indica el placeholder del select\n * @param  [helpText](opcional): Texto que aparece en la parte de abajo del select\n * @param  values: Array tipo [{ label: string, value: string, icon: string }] que indica los valores del select\n * @param  onChange: Output Valor de salida que indica los valores seleccionados\n *\n * @example\n *\n * <bc-input-select-v2\n * [id] = \"'bc-select1'\"\n * [values]=\"objSelect.values\"\n * [label]=\"objSelect.placeholder\"\n * [helpText]=\"objSelect.textBelow\"\n * (onChange) = \"showSelectedValue($event)\"\n * ></bc-input-select-v2>\n *\n * @author: Bancolombia S.A\n */\n\n@NgModule({\n  declarations: [BcInputSelectV2Component],\n  imports: [CommonModule, BcCheckboxModule, BcIconModule, ReactiveFormsModule, FormsModule],\n  exports: [BcInputSelectV2Component],\n})\nexport class BcInputSelectV2Module {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}