{"version":3,"file":"bancolombia-design-system-web-bc-input-file.mjs","sources":["../../../projects/ng_bds/bc-input-file/bc-input-file.component.ts","../../../projects/ng_bds/bc-input-file/bc-input-file.component.html","../../../projects/ng_bds/bc-input-file/bc-input-file.module.ts","../../../projects/ng_bds/bc-input-file/bancolombia-design-system-web-bc-input-file.ts"],"sourcesContent":["import { AfterViewInit, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BcInputFileBehavior } from '@bancolombia/design-system-behaviors';\nimport { BcHelperService } from '@bancolombia/design-system-web/bc-helpers';\n/**\n * Componente subir archivos\n *\n * @export\n * @class BcInputFileComponent\n * @implements {OnInit}\n * @implements {AfterViewInit}\n * @implements {DoCheck}\n */\n@Component({\n  selector: 'bc-input-file',\n  templateUrl: './bc-input-file.component.html'\n})\nexport class BcInputFileComponent implements OnInit, AfterViewInit {\n  bcInputFileBehavior;\n  /**\n   * Título del elemento.\n   *\n   * @type {string}\n   * @memberof BcInputFileComponent\n   */\n  @Input() title: string;\n  /**\n   * Descripción del elemento.\n   *\n   * @type {string}\n   * @memberof BcInputFileComponent\n   */\n  @Input() description: string;\n  /**\n   * Área arrastrar true | false.\n   *\n   * @type {boolean}\n   * @memberof BcInputFileComponent\n   */\n  @Input() dropArea = true;\n\n  /**\n   * Texto donde se arrastran los elementos.\n   *\n   * @memberof BcInputFileComponent\n   */\n  @Input() dropAreaText = 'Arrastra aquí los archivos desde tu computador o';\n  /**\n   * Ícono arrastrar elementos.\n   *\n   * @type {string}\n   * @memberof BcInputFileComponent\n   */\n  @Input() dropAreaIcon = 'cloud-upload';\n  /**\n   * Habilitar múltiples archivos.\n   *\n   * @type {boolean}\n   * @memberof BcInputFileComponent\n   */\n  @Input() multipleFiles = true;\n  /**\n   * Id del componente.\n   *\n   * @type {string}\n   * @memberof BcInputFileComponent\n   */\n  @Input() componentId: string = this.bcHelperService.getId(this);\n  /**\n   * Tipo de validación.\n   *\n   * @type {string[]}\n   * @memberof BcInputFileComponent\n   */\n  @Input() validType: string[] = [];\n  idInput = 'input-' + this.componentId;\n  validTypesString: string = JSON.stringify(this.validType);\n\n  /**\n   * Etiqueta personalizable a la experiencia para el botón de carga de archivos.\n   *\n   * @type {string}\n   * @memberof BcInputFileComponent\n   */\n\n  @Input() buttonLabel = 'SELECCIONA UN ARCHIVO';\n\n  /**\n   * Limite máximo en KB.\n   *\n   * @type {number}\n   * @memberof BcInputFileComponent\n   */\n  @Input() maxSize: number;\n\n  /**\n   * Limite máximo de cartas de archivos subidos que se muestran en el DOM.\n   *\n   * @type {number}\n   * @memberof BcInputFileComponent\n   */\n   @Input() maxCards: number;\n\n    /**\n   * Nombre seguido a los formatos permitidos.\n   *\n   * @type {string}\n   * @memberof BcInputFileComponent\n   */\n  @Input() textFormat = 'Formatos';\n\n  /**\n   * Nombre seguido al tamaño maximo permitido.\n   *\n   * @type {string}\n   * @memberof BcInputFileComponent\n   */\n   @Input() textMaxSize = 'máximo';\n\n  /**\n   * Limite máximo de archivos que se pueden cargar.\n   *\n   * @type {number}\n   * @memberof BcInputFileComponent\n   */\n   @Input() maxFiles: number;\n\n\n   /**\n   * Valida si se muestran los errores dentro de la lista o no.\n   * true | false\n   * @type {boolean}\n   * @memberof BcInputFileComponent\n   */\n  @Input() isShowListFiles = true;\n\n  /**\n   * Corresponde al emisor que devuelve los archivos que se han seleccionado. Se llama cada vez que se agrega o elimina un archivo.\n   *\n   * @memberof BcInputFileComponent\n   */\n  @Output() getFilesAdded = new EventEmitter;\n  @Output() getFilesAddedErr = new EventEmitter;\n\n  /**\n   * Encargado de notificar cuando un usuario intenta agregar más archivos del [maxFiles] indicado.\n   *\n   * @memberof BcInputFileComponent\n   */\n  @Output() getMaxFilesNotification = new EventEmitter;\n\n\n  constructor(private bcHelperService: BcHelperService) {\n    this.bcInputFileBehavior = new BcInputFileBehavior();\n  }\n\n  ngOnInit() {\n    this.validTypesString = JSON.stringify(this.validType);\n    this.idInput = 'input-' + this.componentId;\n  }\n\n  ngAfterViewInit() {\n    this.init();\n  }\n  \n  init(force:boolean = false){\n    this.bcInputFileBehavior.setId(this.componentId);\n    this.bcInputFileBehavior.changeState = (param) => this.getFilesAdded.emit(param);\n    this.bcInputFileBehavior.changeStateErr = (param,fileErrors) => this.getFilesAddedErr.emit({param,fileErrors});\n    this.bcInputFileBehavior.changeStateMaxFiles = (param) => this.getMaxFilesNotification.emit(param);\n    this.bcInputFileBehavior.setUp(force);\n  }\n}\n","<div class=\"bc-input-file\" [id]=\"componentId\" *ngIf=\"dropArea\">\n  <div class=\"bc-input-file-header center\">\n      <h6>{{title}}</h6>\n      <p class=\"text-black-gray\">{{description}}</p>\n      <p class=\"bc-my-4 bc-text-center\" *ngIf=\"maxFiles\">\n        <span *ngIf=\"maxFiles == 1\">Seleccione o arrastre 1 solo archivo</span>\n        <span *ngIf=\"maxFiles > 1\">Seleccione o arrastre {{maxFiles}} archivos</span>\n      </p>\n  </div>\n  <div class=\"bc-drop-area\">\n      <div class=\"bc-container-header-drop-area\">\n          <em class=\"bc-icon bc-xl\">{{dropAreaIcon}}</em>\n          <p>{{dropAreaText}}</p>\n      </div>\n      <div class=\"bc-container-button-input-file\" >\n        <button class=\"bc-button-secondary bc-button-small bc-button-select-file\">{{buttonLabel}}</button>\n        <input \n          [id]=\"idInput\" \n          type=\"file\" \n          [multiple]=\"multipleFiles\" \n          [attr.validtype]=validTypesString \n          [attr.maxSize]=maxSize \n          [attr.maxCards]=maxCards \n          [attr.maxFiles]=maxFiles\n          value=\"\" \n          class=\"bc-drop-area-input\" />\n      </div>\n      <div class=\"bc-container-info-files\">\n        <span class=\"bc-info-files-type\" *ngIf=\"validType.length > 0\">{{textFormat}} \n            <em *ngFor=\"let type of validType\"> .{{type.toUpperCase()}}</em>\n        </span>\n        <span class=\"bc-info-files-size\" \n          *ngIf=\"maxSize; else minSize\">{{ (maxSize / 1024).toFixed(2) }} MB {{textMaxSize}}\n        </span>\n        <ng-template  #minSize><span class=\"bc-info-files-size\">5 MB {{textMaxSize}}</span></ng-template>\n      </div>\n  </div>\n  <div class=\"bc-files-container\" [ngClass]=\"isShowListFiles ? 'bc-input-file-show-list-upload': '' \"></div>\n  <div class=\"bc-files-show-more-container bc-none\"></div>\n</div>\n\n\n\n\n<div class=\"bc-input-file\" [id]=\"componentId\" *ngIf=\"!dropArea\">\n  <div class=\"bc-input-file-header\">\n    <h6>{{title}}</h6>\n    <p class=\"text-black-gray\">{{description}}</p>\n  </div>\n  <div class=\"bc-drop-area bc-drop-area-none\">\n    <div class=\"bc-container-button-input-file\">\n      <button class=\"bc-button-secondary bc-button-small bc-button-select-file\">{{buttonLabel}}</button>\n      <input \n        [id]=\"idInput\" \n        type=\"file\" \n        [multiple]=true \n        [attr.validtype]=validTypesString \n        [attr.maxCards]=maxCards \n        [attr.maxSize]=maxSize \n        [attr.maxFiles]=maxFiles\n        value=\"\" \n        class=\"bc-drop-area-input\" />\n    </div>\n  </div>\n  <div class=\"bc-files-container\"></div>\n  <div class=\"bc-files-show-more-container bc-none\"></div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BcInputFileComponent } from './bc-input-file.component';\n\n/**\n * Importa el componente bcInputFile con\n * los diseños de Bancolombia S.A.\n *\n * @componente <bc-input-file></bc-input-file>\n *\n * @param  title: Titulo del label\n * @param  description: La descripción del archivo que sube el usuario\n * @param  dropAreaText(opcional): texto del area para arrastrar. Default: Arrastra aquí los archivos desde tu computadora.\n * @param  dropAreaIcon(opcional): Texto del icono (como se ha indicado en la seccion de iconos funcionales) del drop area\".\n *  Default: folder\n * @param [multipleFiles] (opcional): Boolean que indica si el input[file] acepta mas de un archivo. Default: true\n * @param [dropArea](opcional): Boolean que indica si se quiere un input[file] con area para arrastar o solo con el\n * boton de agregar archivo Default: true\n * @param componentId: ID que se le asignará en el html del componente, debe ser asignado para\n * facilitar la automatizacion y la certificación\n * @param accept: funciona igual que el \"accept\" disponible para el input[type=file] para limitar el tipo de\n * archivo que se puede subir. Default= acepta varios tipos de archivos\n *\n * @example\n *\n * <bc-input-file title=\"Selector de archivos\"\n * description=\"Este selector contiene un dropArea con los valores predeterminados, pero pueden ser cambiados\"\n * [dropArea]=true\n * [multipleFiles]=false\n * accept=\"image/*\"\n * componentId=\"InputConDropArea\">\n * </bc-input-file>\n *\n * @author: Bancolombia S.A\n */\n\n@NgModule({\n  declarations: [BcInputFileComponent],\n  imports: [CommonModule],\n  exports: [BcInputFileComponent],\n})\nexport class BcInputFileModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}