{"version":3,"file":"bancolombia-design-system-web-bc-input-currency.mjs","sources":["../../../projects/ng_bds/bc-input-currency/bc-input-currency.component.ts","../../../projects/ng_bds/bc-input-currency/bc-input-currency.component.html","../../../projects/ng_bds/bc-input-currency/bc-input-currency.module.ts","../../../projects/ng_bds/bc-input-currency/bancolombia-design-system-web-bc-input-currency.ts"],"sourcesContent":["import {\n  Component,\n  Input,\n  EventEmitter,\n  Output,\n  ElementRef,\n  OnChanges,\n  SimpleChanges,\n  Renderer2,\n  ViewChild,\n  AfterViewInit,\n  Optional,\n  Self,\n} from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { BcInputCurrencyBehavior } from '@bancolombia/design-system-behaviors';\nimport { BcGeneralInputComponent } from '@bancolombia/design-system-web/bc-helpers';\n\nexport enum BcInputCurrencyStatus {\n  default = 'default',\n  error = 'error',\n  success= 'success'\n}\n\n/**\n * Componente input number\n *\n * @export\n * @class BcInputCurrencyComponent\n * @implements {OnInit}\n */\n@Component({\n  selector: 'bc-input-currency',\n  templateUrl: 'bc-input-currency.component.html',\n})\nexport class BcInputCurrencyComponent extends BcGeneralInputComponent implements OnChanges, AfterViewInit {\n\n   /**\n   * Esta entrada de tipo numérico nos indica el valor inicial para el input.\n   *\n   * @type {number}\n   * @memberof BcInputCurrencyComponent\n   */\n    @Input() initValue: number;\n\n  /**\n  * Esta entrada de tipo string nos indica el Label que tendría el input, este puede venir desde un objeto de configuración o\n  * directamente en el atributo.\n  * @type {string}\n  * @memberof BcInputCurrencyComponent\n  */\n  @Input() label: string;\n  \n  /**\n  * Esta entrada de tipo string nos permite indicar el hint que tendría el input, este puede venir desde un objeto de configuración o\n  * directamente en el atributo.\n  * @type {string}\n  * @memberof BcInputCurrencyComponent\n  */\n  @Input() hint: string;\n\n  /**\n   * Esta entrada de tipo booleana nos indica si el componente es o no requerido en el contexto del formulario.\n   *\n   * @type {boolean}\n   * @memberof BcInputCurrencyComponent\n   */\n  @Input() required = true;\n\n  /**\n   * Esta entrada de tipo string nos indica el estado del componente, sus valores pueden ser : {'disabled', 'error', 'success', 'default'}\n   *\n   * @type {('disabled' | 'error' | 'success' | 'default')}\n   * @memberof BcInputCurrencyComponent\n   */\n  @Input() status: 'disabled' | 'error' | 'success' | 'default' = 'default';\n\n  /**\n   * Este parámetro nos indica una salida para el valor actual del selector numérico.\n   * @type {EventEmitter<number>}\n   * @memberof BcInputCurrencyComponent\n   */\n  @Output() updateValue = new EventEmitter<number>();\n\n  @ViewChild('inputNumber') bcInputNumber: ElementRef;\n\n  bcCurrencyInputBehavior;\n  \n  \n  constructor(@Self() @Optional() public controlDirective: NgControl, private ref: ElementRef, private render: Renderer2) {\n    super();\n    this.bcCurrencyInputBehavior = new BcInputCurrencyBehavior();\n    this.bcCurrencyInputBehavior.output = (value: number) => {\n      this.dispatchValue(value);\n    };\n    if (controlDirective) {\n      controlDirective.valueAccessor = this as BcGeneralInputComponent;\n    }\n  }\n\n \n  ngAfterViewInit(): void {\n    this.bcCurrencyInputBehavior.setElement(this.ref.nativeElement);\n    this.bcCurrencyInputBehavior.setUp();\n    this.detectStatusChanges();\n    this.validateErrorStatus()\n  }\n\n  validateErrorStatus(){\n    if (this.controlDirective && this.controlDirective.statusChanges) {\n      this.controlDirective.statusChanges.subscribe(status => {\n        if (status === 'INVALID') {\n          this.bcCurrencyInputBehavior.setErrorState(false)\n        } else {\n          this.bcCurrencyInputBehavior.setErrorState(true)\n        }\n      })\n    }\n  }\n\n  setDisabledState(isDisabled: boolean){\n    this.bcCurrencyInputBehavior.setDisabled(isDisabled);\n  }\n\n  setSuccessState(isSuccess: boolean){\n    this.bcCurrencyInputBehavior.setSuccessState(isSuccess);\n  }\n  \n  ngOnChanges(changes: SimpleChanges): void {\n    this.detectStatusChanges(changes);\n  }\n\n  dispatchValue(value: number) {\n    this.onInput(value);\n    this.updateValue.emit(value);\n  }\n\n  onInput(value: number): void {\n    this.value = value;\n    this.onTouch();\n    this.onChange(this.value);\n    this.bcCurrencyInputBehavior.setValue(this.value);\n  }\n\n  writeValue(value: number){\n    this.onInput(value)\n  }\n\n  detectStatusChanges(changes?: SimpleChanges): void {\n    if (changes) {\n      if (changes.status && this.bcInputNumber) {\n        this.setStatus();\n      }\n    } else {\n      this.setStatus();\n    }\n  }\n\n  setStatus() {\n    this.render.setAttribute(this.bcInputNumber.nativeElement, this.status, 'true');\n\n    if(this.status === BcInputCurrencyStatus.success){\n      this.setSuccessState(true);\n    } else {\n      this.setSuccessState(false);\n    }\n  }\n}\n","<div class=\"bc-input-currency\" #inputNumber>\n  <div class=\"bc-input-currency-container\">\n    <bc-icon size=\"sm\" aria-hidden=\"true\" aria-label=\"\">\n      currency-peso\n    </bc-icon>\n    <input type=\"number\" [attr.value]=\"value\"\n      [attr.required]=\"required ? true : null\" class=\"bc-input bc-input-currency\" id=\"number1\" min=\"0\" type=\"number\"\n      value=\"value\"/>\n    <label for=\"number1\">label</label>\n    <span>hint</span>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { BcInputCurrencyComponent } from './bc-input-currency.component';\nimport { BcIconModule } from '@bancolombia/design-system-web/bc-icon';\nimport { BcButtonModule } from '@bancolombia/design-system-web/bc-button';\nimport { BcInputModule } from '@bancolombia/design-system-web/bc-input';\n\n/**\n * Importa el componente input-currency con\n * los diseños de Bancolombia S.A.\n *\n * @componente <bc-input-currency></bc-input-currency>\n *\n * @param  id ID personalizado del input (default: bc-toggle-input-1)\n * @param  disabled default: false\n * @param  required default: false\n * @param  isChecked default: false\n * @author: Bancolombia S.A\n */\n@NgModule({\n  declarations: [BcInputCurrencyComponent],\n  imports: [CommonModule, BcButtonModule, BcIconModule, BcInputModule, FormsModule, ReactiveFormsModule],\n  exports: [BcInputCurrencyComponent]\n})\nexport class BcInputCurrencyModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}